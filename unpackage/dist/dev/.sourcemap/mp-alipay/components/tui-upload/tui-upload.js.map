{"version":3,"sources":["webpack:///D:/work/uniapp/ThorUI/components/tui-upload/tui-upload.vue?af35","webpack:///D:/work/uniapp/ThorUI/components/tui-upload/tui-upload.vue?8943","webpack:///D:/work/uniapp/ThorUI/components/tui-upload/tui-upload.vue?babf","webpack:///D:/work/uniapp/ThorUI/components/tui-upload/tui-upload.vue?6b9e","webpack:///D:/work/uniapp/ThorUI/components/tui-upload/tui-upload.vue","webpack:///D:/work/uniapp/ThorUI/components/tui-upload/tui-upload.vue?253a","webpack:///D:/work/uniapp/ThorUI/components/tui-upload/tui-upload.vue?6516"],"names":["name","props","value","type","Array","default","forbidDel","Boolean","forbidAdd","serverUrl","String","limit","Number","fileKeyName","data","imageList","statusArr","created","item","push","computed","isShowAdd","isShow","length","methods","reUpLoad","index","$set","change","uploadImage","then","catch","status","indexOf","$emit","imgArr","chooseImage","_this","uni","count","success","e","imageArr","i","tempFilePaths","len","showToast","title","icon","path","start","j","url","Promise","resolve","reject","uploadFile","header","formData","filePath","res","console","log","statusCode","d","JSON","parse","replace","code","fail","delImage","splice","previewImage","current","loop","urls"],"mappings":"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","file":"components/tui-upload/tui-upload.js","sourcesContent":["import { render, staticRenderFns } from \"./tui-upload.vue?vue&type=template&id=59dc637c&\"\nimport script from \"./tui-upload.vue?vue&type=script&lang=js&\"\nexport * from \"./tui-upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tui-upload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\软件\\\\HBuilderX.0.1.33.20180505-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('59dc637c', component.options)\n    } else {\n      api.reload('59dc637c', component.options)\n    }\n    module.hot.accept(\"./tui-upload.vue?vue&type=template&id=59dc637c&\", function () {\n      api.rerender('59dc637c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/uniapp/ThorUI/components/tui-upload/tui-upload.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tui-upload.vue?vue&type=template&id=59dc637c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tui-upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tui-upload.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'tuiUpload',\n\tprops: {\n\t\t//初始化图片路径\n\t\tvalue: {\n\t\t\ttype: Array,\n\t\t\tdefault () {\n\t\t\t\treturn []\n\t\t\t}\n\t\t},\n\t\t//禁用删除\n\t\tforbidDel: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t//禁用添加\n\t\tforbidAdd: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t//服务器地址\n\t\tserverUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\t//限制数\n\t\tlimit: {\n\t\t\ttype: Number,\n\t\t\tdefault: 9\n\t\t},\n\t\t//项目名，默认为 file\n\t\tfileKeyName: {\n\t\t\ttype: String,\n\t\t\tdefault: \"file\"\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t//图片地址\n\t\t\timageList: [],\n\t\t\t//上传状态：1-上传成功 2-上传中 3-上传失败\n\t\t\tstatusArr: []\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.imageList = [...this.value];\n\t\tfor (let item of this.imageList) {\n\t\t\tthis.statusArr.push(\"1\")\n\t\t}\n\t},\n\tcomputed: {\n\t\tisShowAdd() {\n\t\t\tlet isShow = true;\n\t\t\tif (this.forbidAdd || (this.limit && this.imageList.length >= this.limit)) {\n\t\t\t\tisShow = false;\n\t\t\t}\n\t\t\treturn isShow\n\t\t}\n\t},\n\tmethods: {\n\t\t// 重新上传\n\t\treUpLoad(index) {\n\t\t\tthis.$set(this.statusArr, index, \"2\")\n\t\t\tthis.change()\n\t\t\tthis.uploadImage(index, this.imageList[index]).then(() => {\n\t\t\t\tthis.change()\n\t\t\t}).catch(() => {\n\t\t\t\tthis.change()\n\t\t\t})\n\t\t},\n\t\tchange() {\n\t\t\tlet status = ~this.statusArr.indexOf(\"2\") ? 2 : 1\n\t\t\tif (status != 2 && ~this.statusArr.indexOf(\"3\")) {\n\t\t\t\t// 上传失败\n\t\t\t\tstatus = 3\n\t\t\t}\n\t\t\tthis.$emit('complete', {\n\t\t\t\tstatus: status,\n\t\t\t\timgArr: this.imageList\n\t\t\t})\n\t\t},\n\t\tchooseImage: function() {\n\t\t\tlet _this = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: _this.limit - _this.imageList.length,\n\t\t\t\tsuccess: function(e) {\n\t\t\t\t\tlet imageArr = [];\n\t\t\t\t\tfor (let i = 0; i < e.tempFilePaths.length; i++) {\n\t\t\t\t\t\tlet len = _this.imageList.length;\n\t\t\t\t\t\tif (len >= _this.limit) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: `最多可上传${_this.limit}张图片`,\n\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet path = e.tempFilePaths[i]\n\t\t\t\t\t\timageArr.push(path)\n\t\t\t\t\t\t_this.imageList.push(path)\n\t\t\t\t\t\t_this.statusArr.push(\"2\")\n\t\t\t\t\t}\n\t\t\t\t\t_this.change()\n\n\t\t\t\t\tlet start = _this.imageList.length - imageArr.length\n\t\t\t\t\tfor (let j = 0; j < imageArr.length; j++) {\n\t\t\t\t\t\tlet index = start + j\n\t\t\t\t\t\t//服务器地址\n\t\t\t\t\t\tif (_this.serverUrl) {\n\t\t\t\t\t\t\t_this.uploadImage(index, imageArr[j]).then(() => {\n\t\t\t\t\t\t\t\t_this.change()\n\t\t\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\t\t\t_this.change()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//无服务器地址则直接返回成功\n\t\t\t\t\t\t\t_this.$set(_this.statusArr, index, \"1\")\n\t\t\t\t\t\t\t_this.change()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tuploadImage: function(index, url) {\n\t\t\tlet _this = this;\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.uploadFile({\n\t\t\t\t\turl: this.serverUrl,\n\t\t\t\t\tname: this.fileKeyName,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t//设置请求头\n\t\t\t\t\t},\n\t\t\t\t\tformData: {},\n\t\t\t\t\tfilePath: url,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\t\t//返回结果 此处需要按接口实际返回进行修改\n\t\t\t\t\t\t\tlet d = JSON.parse(res.data.replace(/\\ufeff/g, \"\") || \"{}\")\n\t\t\t\t\t\t\t//判断code，以实际接口规范判断\n\t\t\t\t\t\t\tif (d.code % 100 === 0) {\n\t\t\t\t\t\t\t\t// 上传成功 d.url 为上传后图片地址，以实际接口返回为准\n\t\t\t\t\t\t\t\td.url && (_this.imageList[index] = d.url)\n\t\t\t\t\t\t\t\t_this.$set(_this.statusArr, index, d.url ? \"1\" : \"3\")\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 上传失败\n\t\t\t\t\t\t\t\t_this.$set(_this.statusArr, index, \"3\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(index)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.$set(_this.statusArr, index, \"3\")\n\t\t\t\t\t\t\treject(index)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t_this.$set(_this.statusArr, index, \"3\")\n\t\t\t\t\t\treject(index)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t},\n\t\tdelImage: function(index) {\n\t\t\tthis.imageList.splice(index, 1)\n\t\t\tthis.statusArr.splice(index, 1)\n\t\t\tthis.$emit(\"remove\", {\n\t\t\t\tindex: index\n\t\t\t})\n\t\t\tthis.change()\n\t\t},\n\t\tpreviewImage: function(index) {\n\t\t\tif (!this.imageList.length) return;\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: this.imageList[index],\n\t\t\t\tloop: true,\n\t\t\t\turls: this.imageList\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tui-upload.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.0.1.33.20180505-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tui-upload.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}