<view class="page"><scroll-view class="scrollList" style="{{'height:'+(winHeight+'px')+';'}}" scroll-y scroll-into-view="{{scrollViewId}}"><view class="search-bar"><view class="search-bar-form"><view class="search-bar-box"><input class="search-bar-input" confirm-type="search" placeholder="输入城市名称或首字母查询" placeholder-class="phcolor" focus="{{inputShowed}}" data-event-opts="{{[['input',[['inputTyping',['$event']]]]]}}" value="{{inputVal}}" bindinput="__e"/><block wx:if="{{inputVal}}"><view data-event-opts="{{[['tap',[['clearInput',['$event']]]]]}}" class="icon-clear" bindtap="__e"><icon type="clear" size="15"></icon></view></block></view><block wx:if="{{!inputShowed}}"><label data-event-opts="{{[['tap',[['showInput',['$event']]]]]}}" class="search-bar-label" bindtap="__e"><view class="search-bar-text">输入城市名称或首字母查询</view></label></block></view></view><block wx:if="{{inputShowed}}"><view class="tui-list search-result"><block wx:for="{{searchResult}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="tui-list-cell" hover-class="tui-list-cell-hover" data-name="{{item}}" hover-stay-time="150" data-event-opts="{{[['tap',[['selectCity',['$event']]]]]}}" bindtap="__e"><view class="tui-list-cell-navigate">{{''+item+''}}</view></view></block></view></block><block wx:if="{{!inputVal}}"><view><view class="current-city"><view class="title">定位城市</view><view class="city-name"><tui-icon vue-id="1" name="position-fill" color="#5677fc" size="18" bind:__l="__l"></tui-icon>{{''+localCity+''}}</view></view><view class="hot-city"><view class="title">热门城市</view><view class="city-names"><block wx:for="{{hotCity}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="city-name-item" hover-class="tap-city" hover-stay-time="150" data-name="{{item}}" data-event-opts="{{[['tap',[['selectCity',['$event']]]]]}}" bindtap="__e">{{''+item+''}}</view></block></view></view><view class="tui-list city-list"><block wx:for="{{lists}}" wx:for-item="list" wx:for-index="index" wx:key="index"><block wx:if="{{list.data[0]}}"><block><view class="tui-list-cell-divider" id="{{index===0?'suoyin':list.letter}}">{{''+list.letter+''}}</view><block wx:for="{{list.data}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="tui-list-cell" hover-class="tui-list-cell-hover" data-name="{{item.cityName}}" hover-stay-time="150" data-event-opts="{{[['tap',[['selectCity',['$event']]]]]}}" bindtap="__e"><view class="{{['tui-list-cell-navigate',list.data.length-1==index?'last':'']}}">{{''+item.cityName+''}}</view></view></block></block></block></block></view></view></block></scroll-view><block wx:if="{{!inputVal}}"><view data-event-opts="{{[['touchstart',[['touchStart',['$event']]]],['touchmove',[['touchMove',['$event']]]],['touchend',[['touchEnd',['$event']]]],['touchcancel',[['touchCancel',['$event']]]]]}}" class="tui-indexed-list-bar" style="{{'height:'+(indexBarHeight+'px')+';'}}" bindtouchstart="__e" catchtouchmove="__e" catchtouchend="__e" catchtouchcancel="__e"><block wx:for="{{lists}}" wx:for-item="items" wx:for-index="index" wx:key="index"><text class="tui-indexed-list-text" style="{{'height:'+(indexBarItemHeight+'px')+';'}}">{{''+(index==0?"索引":items.letter)+''}}</text></block></view></block><block wx:if="{{touchmove&&lists[touchmoveIndex].letter}}"><view class="tui-indexed-list-alert">{{''+lists[touchmoveIndex].letter+''}}</view></block></view>